
\section{simple control flow integrity}

\begin{frame}{motivation: beyond stack canaries}
    \begin{itemize}
    \item stack canaries: try to make sure we return to genuine place
    \item should make return-oriented programming hard
    \item problem: defeated with information leak
    \vspace{.5cm}
    \item alternate idea: make sure we aren't returning to gadget
    \item \ldots by checking that it actually called our function
    \end{itemize}
\end{frame}

\subsection{idea: checking returns?}

\input{../cfi/simple-check-return}

    % FIXME: verify that it's after a call instruction
        
        % FIXME: same idea, but mark the return sites explicitly
    % FIXME: verify that it's after a call isntruction for the right function
        % FIXME: same idea, but mark the return sites explicitly

\subsubsection{versus canaries?}
\input{../cfi/check-return-v-canary}

\subsection{checking VTable calls?}
    % FIXME: applying idea to calls to VTable-based function call
\input{../cfi/check-vtable}

\subsection{checking VTable call returns?}
    % FIXME
\input{../cfi/check-vtable-return}

\subsection{checking indirect function calls}
    % FIXME: trivial idea: was there a pointer?
        % well, that's not very nice\ldots
\input{../cfi/checking-indirect}


\section{CFI overhead}
\input{../cfi/overhead}

\section{what does CFI actually prevent}
\againframe<2>{cfiLikeCanariesP2}

\section{more general control flow integrity}

\subsection{concept: control flow graph}
\input{../cfi/control-flow-graph} % FIXME: needs explanation of how labels assigned

\subsection{and function pointers}
\input{../cfi/cfg-fptrs}

\subsection{finding function pointer values?}
\input{../cfi/cfg-algo}


% FIXME:
\subsection{imprecision: unions, etc.}
\input{../cfi/cfg-unions}

\section{Clang's CFI implementation}
\input{../cfi/clang-cfi}

\section{Clang's CFI prevents?}
\input{../cfi/prevent-exer}

\subsection{problems with dynamically loaded code}
\input{../cfi/dynamic-p}

\section{Intel's `CFI'}
\input{../cfi/intel-cfi}

\section{authenticated pointers}
\subsectoin{motivation}
\input{../cfi/enc-ptr-motivation}
\subsection{ARM support}
\input{../cfi/arm-enc-ptrs}
\subsection{relating to CFI}
\input{../cfi/enc-ptr-cfi}
\subscetion{in iOS/OS X}
\input{../cfi/osx-enc-ptrs}
% FIXME
