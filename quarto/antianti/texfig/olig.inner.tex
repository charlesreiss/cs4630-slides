\begin{tikzpicture}
\draw[fill=yellow!30,very thick] (0, 0) rectangle ++(4, -1) node[midway] {code `decrypter'};
\draw[pattern=north west lines,pattern color=red,very thick] (0, -1) rectangle ++(4, -5);
    \node[anchor=south,fill=white] at (2, -5) {`encrypted' code};
    \draw[fill=white,thick,font=\small] (0.25, -2) rectangle ++ (3.5, -1) node[midway,align=center] {
        decrypter \\
        generator
    };
\node[anchor=north west,draw,very thick,font=\small] (decrypt gen code) at (5, -0.5) {
\usebox{\decryptGenCode}
};
\draw[thick,dashed] (3.75, -2) -- (decrypt gen code.north west);
\draw[thick,dashed] (3.75, -3) -- (decrypt gen code.south west);
\end{tikzpicture}