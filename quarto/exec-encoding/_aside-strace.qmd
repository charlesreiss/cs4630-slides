
### interlude: strace  {.smaller}


* <code>strace</code> --- system call tracer 

   * on Linux, some other Unices
   * OS X approx. equivalent: <code>dtruss</code>
   * Windows approx. equivalent: Process Monitor

* indicates what system calls (operating system services) used by a program


### statically linked hello.exe  {.smaller}



* [<code></code> gcc -no-pie -static -o hello-static.exe hello.s]{.my-small}
* [<code></code> strace ./hello-static.exe]{.my-small}:
 
<pre><code>execve("./hello-static.exe", \["./hello-static.exe"], \[/* 46 vars */]) = 0
\\myemphTwo{uname({sysname="Linux", nodename="reiss-lenovo", ...}) = 0}
\\myemphTwo{brk(NULL)                               = 0x20a5000}
\\myemphThree{brk(0x20a61c0)                          = 0x20a61c0}
\\myemphTwo{arch_prctl(ARCH_SET_FS, 0x20a5880)      = 0}
\\myemphTwo{readlink("/proc/self/exe", "/home/cr4bd/spring2017/cs4630/sl"..., 4096) = 62}
\\myemphThree{brk(0x20c71c0)                          = 0x20c71c0}
\\myemphThree{brk(0x20c8000)                          = 0x20c8000}
\\myemphTwo{access("/etc/ld.so.nohwcap", F_OK)}      = -1 ENOENT (No such file or directory)
\\myemphFour{fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 1), ...}) = 0}
\\myemphFour{write(1, "Hello, World!\n", 14)         = 14}
\\myemphFive{exit_group(14)}                          = ?
+++ exited with 14 +++
</code></pre>
 ![](/exec-encoding/texfig/staticStrace.figure-1.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment=index=1}
![](/exec-encoding/texfig/staticStrace.figure-2.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment=index=2}
![](/exec-encoding/texfig/staticStrace.figure-3.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment=index=3}
![](/exec-encoding/texfig/staticStrace.figure-4.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment=index=4}
![](/exec-encoding/texfig/staticStrace.figure-5.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment=index=5}

