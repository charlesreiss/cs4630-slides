\begin{tikzpicture}
\begin{scope}
\tikzset{every node/.style={font=\small,align=left,anchor=north west,inner sep=0mm}}
\node (vars) {
};
\node (patMacros) at (vars.south west) {
~
};
\node (sepA) at (patMacros.south west) {
\tt \%\%
};
\node (pats) at (sepA.south west) {
\usebox{\flexExMiddle}
};
\node (sepB) at (pats.south west) {
\%\%
};
\node (mainCode) at (sepB.south west) {
\usebox{\flexExBottom}
};
\end{scope}
\tikzset{
    hi/.style={rounded corners,fill=green,opacity=0.3},
    remark/.style={draw,red,very thick,at={([xshift=-4cm,yshift=2cm]pats.east)},fill=white,align=left},
}
\begin{visibleenv}<2>
    \node[remark] {yytext --- text of matched thing};
\end{visibleenv}
\end{tikzpicture}