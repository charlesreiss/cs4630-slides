
### calling virtual method  


```cpp
SeekableInputStream *in = ...;  // 8(%rsp)
in->get();
in->seek(10);
```

<hr />

```gnuassembler
/* in->get(); */
movq    8(%rsp), %rdi // rdi <- in
movq    (%rdi), %rax  // rax <- vtable
call    *(%rax)       // call vtable[0]

/* in->seek(10); */
movq    8(%rsp), %rdi // rdi <- in
movl    $10, %esi     // esi <- 10
movq    (%rdi), %rax  // rax <- vtable
call    *8(%rax)      // call vtable[1]
```


### FileInputStream assembly (1) {.smaller}

```gnuassembler
_ZN15FileInputStreamC2Ev: // constructor
   # rdi == this
   movq    $_ZTV15FileInputStream+16, (%rdi)
   ...
   ret
# VTable for FileInputStream
_ZTV15FileInputStream:
    # offset (for multiple inheritence)
    .quad   0 
    # info for typeid() operator
    .quad   _ZTI15FileInputStream
    # VTable pointer points here
    # FileInputStream::get
    .quad   _ZN15FileInputStream3getEv
    # FileInputStream::seek
    .quad   _ZN15FileInputStream4seekEi
    # FileInputStream::tell
    .quad   _ZN15FileInputStream4tellEv
```

