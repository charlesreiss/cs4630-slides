\date{}
\title{}
\date{}
\begin{document}
\begin{frame}
    \titlepage
\end{frame}

\input{../common/listingsLib}

\begin{frame}{last time}
    \begin{itemize}
    \item motivations for malware
        \begin{itemize}
        \item monetization techniques / other motivations
        \item black markets --- attackers are not vertically integrated
        \item thinking about attacking/detecting monetization/etc., not just malware itself
        \end{itemize}
    \item references for x86-64 instruction set
    \item AT\&T and Intel syntax
    \item x86-64 general purpose registers
    \end{itemize}
\end{frame}

\section{homework/objdump output note}
\begin{frame}[fragile]{objdump --file-offset}
    \begin{itemize}
    \item objdump --file-offset shows file offset next to addresses
    \end{itemize}
\begin{Verbatim}[fontsize=\fontsize{9}{10}\selectfont]
0000000000401775 <main> (File Offset: 0x1775):
  401775:       f3 0f 1e fa             endbr64 
  401779:       55                      push   %rbp
  40177a:       48 89 e5                mov    %rsp,%rbp
  40177d:       48 8d 05 80 68 09 00    lea    0x96880(%rip),%rax  
      # 498004 <_IO_stdin_used+0x4> (File Offset: 0x98004)
\end{Verbatim}
    \begin{itemize}
    \item main is stored 0x1775 bytes into file, so 
    \item lea instruction is therefore 0x177d bytes into file
    \item 0x498004 (referenced by lea) is stored 0x98004 bytes into file
        \begin{itemize}
        \item (shown as two lines above, but really one very long line)
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{RE assignment}
\end{frame}

\section{floating point}
\input{../asm/floating-point-intro}
\input{../asm/floating-point-sse-regs}
\input{../asm/floating-point-fp-example}

\section{rip addressing}
\input{../asm/addressing-rip}

\section{string instructions}
\input{../asm/string-instrs}

\section{endbr64}
\input{../asm/endbr64}

\section{segmentation}
\input{../asm/segmentation}

\subsection{thread-local storage example}
\input{../asm/tls-example}

\section{Linux x86-64 calling conventions}
\input{../asm/x86-64-linux-cc} % FIXME: note location of definitive reference, move to backup
\input{../asm/x86-64-linux-cc-callstack}

\input{../exec-encoding/talk-inner}

\input{../re-tools/talk-inner}

\input{../x8664-encoding/talk-inner}

\section{backup slides}
\begin{frame}{backup slides}
\end{frame}
\input{../asm/floating-point-vector}

\input{../exec-encoding/talk-backup}
%\input{../x8664-encoding/talk-backup}

\end{document}
